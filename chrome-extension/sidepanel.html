<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chrome AI Workflows</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div class="extension-container">
    <!-- Status Header -->
    <div class="status-header">
      <div class="platform-status">
        <span class="status-indicator" id="platform-status"></span>
        <span class="status-text">Chrome AI Platform</span>
      </div>
      <div class="ai-status">
        <span class="status-indicator" id="ai-status"></span>
        <span class="status-text">Chrome AI</span>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <button class="action-btn" id="test-ai" title="Test Chrome AI">
        <span class="icon">‚ú®</span>
        <span>Test AI</span>
      </button>
      <button class="action-btn" id="open-platform" title="Open Platform Dashboard">
        <span class="icon">üöÄ</span>
        <span>Platform</span>
      </button>
      <button class="action-btn" id="refresh-workflows" title="Refresh Workflows">
        <span class="icon">üîÑ</span>
        <span>Refresh</span>
      </button>
    </div>

    <!-- Workflow Selector -->
    <div class="workflow-section">
      <label for="workflow-selector">Select Workflow:</label>
      <select id="workflow-selector">
        <option value="">Choose a workflow...</option>
      </select>
    </div>

    <!-- Input Area -->
    <div class="input-section">
      <label for="user-input">Input:</label>
      <textarea id="user-input" placeholder="Type your message or paste selected text..." rows="6"></textarea>
      <div class="selected-text" id="selected-text" style="display: none;">
        <span class="label">üìã Selected Text:</span>
        <div class="text" id="selected-text-content"></div>
      </div>
    </div>

    <!-- Execute Button -->
    <button class="execute-btn" id="execute-workflow" disabled>
      <span class="icon">‚ñ∂Ô∏è</span>
      <span id="execute-text">Run Workflow</span>
    </button>

    <!-- Results Area -->
    <div class="results-section" id="results-section" style="display: none;">
      <div class="result-header">
        <span class="workflow-name" id="result-workflow"></span>
        <span class="execution-time" id="execution-time"></span>
      </div>
      <div class="result-content" id="result-content"></div>
      <button class="copy-btn" id="copy-result" title="Copy to clipboard">
        <span>üìã Copy</span>
      </button>
    </div>

    <!-- History -->
    <div class="history-section">
      <div class="history-header">
        <h3>Recent Executions</h3>
        <button class="clear-history-btn" id="clear-history" title="Clear history">Clear</button>
      </div>
      <div class="history-list" id="history-list">
        <div class="empty-state">
          <p>No executions yet</p>
        </div>
      </div>
    </div>
  </div>

  <script src="lib/workflow-config.js"></script>
  <script src="lib/platform-api.js"></script>
  <script src="lib/chromeai-client.js"></script>
  <script src="sidepanel.js"></script>
</body>
</html>
